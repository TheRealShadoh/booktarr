# BookTarr V2 Production Environment Variables
# CRITICAL: Update ALL values before deploying to production

# ================================
# Database Configuration
# ================================
POSTGRES_USER=booktarr
POSTGRES_PASSWORD=GENERATE_STRONG_PASSWORD_HERE_32_CHARS_MIN
POSTGRES_DB=booktarr
POSTGRES_PORT=5432
DATABASE_URL=postgresql://booktarr:GENERATE_STRONG_PASSWORD_HERE@postgres:5432/booktarr

# PostgreSQL Performance Tuning
DB_POOL_SIZE=50  # Increase for production load

# ================================
# Redis Configuration
# ================================
REDIS_PASSWORD=GENERATE_STRONG_REDIS_PASSWORD_32_CHARS_MIN
REDIS_PORT=6379
REDIS_URL=redis://:GENERATE_STRONG_REDIS_PASSWORD@redis:6379

# ================================
# MinIO/S3 Configuration
# ================================
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=GENERATE_STRONG_MINIO_PASSWORD_32_CHARS_MIN
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=admin
S3_SECRET_KEY=GENERATE_STRONG_MINIO_PASSWORD_32_CHARS_MIN
S3_BUCKET=booktarr

# ================================
# Application Configuration
# ================================
APP_PORT=3000
NODE_ENV=production
LOG_LEVEL=info  # Use 'info' or 'warn' in production

# ================================
# NextAuth.js (CRITICAL)
# ================================
# Generate with: openssl rand -base64 48
NEXTAUTH_URL=https://your-production-domain.com
NEXTAUTH_SECRET=GENERATE_RANDOM_STRING_MINIMUM_48_CHARS_CRITICAL_SECURITY

# ================================
# OAuth Providers (Production)
# ================================
# Google OAuth (production credentials)
GOOGLE_CLIENT_ID=your-production-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-google-client-secret

# GitHub OAuth (production credentials)
GITHUB_CLIENT_ID=your-production-github-client-id
GITHUB_CLIENT_SECRET=your-production-github-client-secret

# ================================
# External APIs
# ================================
GOOGLE_BOOKS_API_KEY=your-production-google-books-api-key
OPENLIBRARY_API_KEY=

# ================================
# CORS Configuration
# ================================
ALLOWED_ORIGINS=https://your-production-domain.com,https://www.your-production-domain.com

# ================================
# Monitoring & Error Tracking
# ================================
# Sentry (recommended for production)
SENTRY_DSN=https://your-sentry-dsn@o123456.ingest.sentry.io/7654321
NEXT_PUBLIC_SENTRY_DSN=https://your-public-sentry-dsn@o123456.ingest.sentry.io/7654321

# APM (Application Performance Monitoring)
# NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
# DATADOG_API_KEY=your-datadog-api-key

# ================================
# SSL/TLS Configuration
# ================================
# SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# ================================
# Backup Configuration
# ================================
BACKUP_RETENTION_DAYS=30
# S3_BACKUP_BUCKET=booktarr-backups
# S3_BACKUP_REGION=us-east-1

# ================================
# PRODUCTION SECURITY CHECKLIST
# ================================
# Before deploying, ensure:
# □ All passwords are randomly generated (32+ characters)
# □ NEXTAUTH_SECRET is unique and strong (48+ characters)
# □ SSL/TLS certificates are installed and valid
# □ Database backups are configured and tested
# □ OAuth redirect URLs are whitelisted for production domain
# □ CORS ALLOWED_ORIGINS is set correctly
# □ Sentry or error tracking is configured
# □ Log level is set to 'info' or 'warn'
# □ .env file is NOT committed to git
# □ Environment variables are set in deployment platform
# □ Health checks are passing
# □ Rate limiting is enabled
# □ Input validation is active on all API routes

# ================================
# CRITICAL WARNINGS
# ================================
# 1. NEVER use default/example passwords in production
# 2. NEVER commit this file with real credentials
# 3. NEVER use HTTP in production (HTTPS only)
# 4. NEVER disable security features for "convenience"
# 5. ALWAYS test backups and restoration procedures
# 6. ALWAYS monitor logs and error rates
# 7. ALWAYS keep dependencies updated
# 8. ALWAYS use strong, unique passwords for each service
